---
type Props = {
  title: string;
  description: string;
  href?: string;
  linkText?: string;
  icon?: string; // "ceza" | "is" | "kira" | "sirket" | "uluslararasi" | "kanun6284" | "genel" ...
  variant?: "default" | "compact";
};

const {
  title,
  description,
  href = "#",
  linkText = "DETAYLI BİLGİ AL →",
  icon = "genel",
  variant = "default",
} = Astro.props;

// Crisp inline SVG icon set (no FontAwesome)
const ICONS: Record<string, { viewBox: string; d: string }> = {
  // Gavel
  ceza: {
    viewBox: "0 0 640 512",
    d: "M312.4 28.6c-12.5-12.5-32.8-12.5-45.3 0L196.7 99l-70.4-70.4c-12.5-12.5-32.8-12.5-45.3 0l-52.4 52.4c-12.5 12.5-12.5 32.8 0 45.3L99 196.7l-70.4 70.4c-12.5 12.5-12.5 32.8 0 45.3l52.4 52.4c12.5 12.5 32.8 12.5 45.3 0L196.7 295l70.4 70.4c12.5 12.5 32.8 12.5 45.3 0l52.4-52.4c12.5-12.5 12.5-32.8 0-45.3L295 196.7 364.9 127c12.5-12.5 12.5-32.8 0-45.3L312.4 28.6zM5.3 492.7c7.1 19.7 25.8 31.3 46.2 28.7l160-20c16.9-2.1 31.2-13.1 37.3-29.1l92.7-244.4-118.6-118.6L11.7 445.5c-8.1 17.3-9.1 37.5-6.4 47.2z",
  },

  // Gear (İş Hukuku)
  is: {
    viewBox: "0 0 512 512",
    d: "M487.4 315.7l-42.6-24.6c2.6-14.6 3.9-29.7 3.9-45.1s-1.3-30.5-3.9-45.1l42.6-24.6c14.1-8.1 20-25.5 13.7-40.8l-28.3-49c-6.3-10.9-18.5-16.7-30.9-14.6l-48.4 8.2c-22.2-18.2-48.1-32.1-76.4-40.4l-14.4-46.9C298.5 2.9 284.2-6 269.1-4.1L242.9-.8c-15.1 1.9-27.2 14.2-28.3 29.4l-3.5 49c-29 10.7-55.4 26.8-78 46.9l-48.1-8.2c-12.4-2.1-24.6 3.7-30.9 14.6l-28.3 49c-6.3 15.3-.4 32.7 13.7 40.8l42.6 24.6C65.3 215.5 64 230.6 64 246s1.3 30.5 3.9 45.1l-42.6 24.6c-14.1 8.1-20 25.5-13.7 40.8l28.3 49c6.3 10.9 18.5 16.7 30.9 14.6l48.4-8.2c22.2 18.2 48.1 32.1 76.4 40.4l14.4 46.9c4.2 13.7 18.5 22.6 33.6 20.7l26.2-3.3c15.1-1.9 27.2-14.2 28.3-29.4l3.5-49c29-10.7 55.4-26.8 78-46.9l48.1 8.2c12.4 2.1 24.6-3.7 30.9-14.6l28.3-49c6.3-15.3.4-32.7-13.7-40.8zM256 336c-49.7 0-90-40.3-90-90s40.3-90 90-90 90 40.3 90 90-40.3 90-90 90z",
  },

  // House
  kira: {
    viewBox: "0 0 576 512",
    d: "M543.8 287.6L319.5 63.3c-17-17-44.6-17-61.6 0L32.2 287.6c-10.1 10.1-13.1 25.4-7.8 38.6S43.1 348 57.4 348H64V464c0 26.5 21.5 48 48 48H240V368c0-13.3 10.7-24 24-24h48c13.3 0 24 10.7 24 24V512H464c26.5 0 48-21.5 48-48V348h6.6c14.3 0 27.1-8.6 32.4-21.8s2.3-28.5-7.8-38.6z",
  },

  // Building
  sirket: {
    viewBox: "0 0 384 512",
    d: "M48 0C21.5 0 0 21.5 0 48V464c0 26.5 21.5 48 48 48H336c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48H48zm48 96h64c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16zm0 160h64c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16V272c0-8.8 7.2-16 16-16zm128-144c0-8.8 7.2-16 16-16h64c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H240c-8.8 0-16-7.2-16-16V112zm16 144h64c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H240c-8.8 0-16-7.2-16-16V272c0-8.8 7.2-16 16-16z",
  },

  // Globe
  uluslararasi: {
    viewBox: "0 0 512 512",
    d: "M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm170.5 160H344.6c-9.3-38.2-25.7-72.7-47.6-100 57.4 16.7 104.1 57.9 129.5 112zM256 56c27.4 0 56.9 41.6 74 112H182c17.1-70.4 46.6-112 74-112zM64 256c0-20.7 3-40.7 8.6-59.6H173c-2.2 19.4-3.4 39.4-3.4 59.6s1.2 40.2 3.4 59.6H72.6C67 296.7 64 276.7 64 256zm21.5 88H173c9.3 38.2 25.7 72.7 47.6 100-57.4-16.7-104.1-57.9-129.5-112zM256 456c-27.4 0-56.9-41.6-74-112h148c-17.1 70.4-46.6 112-74 112zm86.4-140H169.6c-2.3-19.3-3.6-39.3-3.6-60s1.3-40.7 3.6-60h172.8c2.3 19.3 3.6 39.3 3.6 60s-1.3 40.7-3.6 60zm-29.9 128c21.9-27.3 38.3-61.8 47.6-100h81.9c-25.4 54.1-72.1 95.3-129.5 112zM439.4 315.6H339c2.2-19.4 3.4-39.4 3.4-59.6s-1.2-40.2-3.4-59.6h100.4c5.6 18.9 8.6 38.9 8.6 59.6s-3 40.7-8.6 59.6z",
  },

  // Shield
  kanun6284: {
    viewBox: "0 0 512 512",
    d: "M256 0c-5.7 0-11.3 1.2-16.5 3.5L64 80v176c0 141.4 88.7 220.6 176.5 252.5 10 3.6 20.9 3.6 30.9 0C359.3 476.6 448 397.4 448 256V80L272.5 3.5C267.3 1.2 261.7 0 256 0zm0 64l128 55.1V256c0 107.6-64.5 166.9-128 192.1-63.5-25.2-128-84.5-128-192.1V119.1L256 64zm-48 200h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16z",
  },

  // Default: scales
  genel: {
    viewBox: "0 0 640 512",
    d: "M320 32c17.7 0 32 14.3 32 32v32h208c17.7 0 32 14.3 32 32s-14.3 32-32 32h-19.2l-68.4 161.7c26.3 16.1 43.8 45 43.8 77.9 0 50.3-41.8 91-93.4 91H393.4c-51.6 0-93.4-40.7-93.4-91 0-32.9 17.5-61.8 43.8-77.9L275.2 160H352V96H288V64c0-17.7 14.3-32 32-32zM80 128c0-17.7 14.3-32 32-32h176V160H275.2l-68.6 161.8c26.3 16.1 43.8 45 43.8 77.9 0 50.3-41.8 91-93.4 91H127.7c-51.6 0-93.4-40.7-93.4-91 0-32.9 17.5-61.8 43.8-77.9L9.2 192H112c17.7 0 32-14.3 32-32 0-17.7-14.3-32-32-32H80z",
  },
};

const iconDef = ICONS[icon] || ICONS.genel;
---

<a class={`area-card ${variant === "compact" ? "compact" : ""}`} href={href}>
  <div class="icon-wrap" aria-hidden="true">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox={iconDef.viewBox} fill="currentColor">
      <path d={iconDef.d} />
    </svg>
  </div>

  <h3>{title}</h3>
  <p>{description}</p>

  <div class="card-footer">
    <span class="cta">{linkText}</span>
  </div>
</a>

<style>
  .area-card {
    background: var(--card-bg);
    border: 1px solid var(--color-border);
    border-radius: 12px;
    padding: 30px;
    display: flex;
    flex-direction: column;
    height: 100%;
    transition: 0.2s;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    text-decoration: none;
  }

  .area-card:hover {
    border-top: 4px solid var(--brand-accent);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.06);
  }

  .icon-wrap {
    width: 64px;
    height: 64px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 18px;
    color: var(--brand-accent);
  }

  .icon-wrap svg {
    width: 42px;
    height: 42px;
    display: block;
  }

  h3 {
    text-align: center;
    margin: 0 0 14px;
    font-size: 1.3rem;
    color: var(--brand-primary);
    font-weight: 800;
  }
  :global(html.dark) h3 { color: var(--color-text); }

  p {
    text-align: center;
    color: var(--color-text-secondary);
    margin: 0;
    line-height: 1.75;
  }

  .card-footer {
    margin-top: auto;
    padding-top: 22px;
    border-top: 1px solid rgba(0,0,0,0.06);
  }
  :global(html.dark) .card-footer { border-top-color: rgba(255,255,255,0.08); }

  .cta {
    display: block;
    text-align: center;
    font-weight: 800;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    color: var(--brand-primary);
    font-size: 0.9rem;
  }
  :global(html.dark) .cta { color: var(--brand-accent); }

  .area-card.compact {
    padding: 24px;
  }
  .area-card.compact .icon-wrap {
    width: 56px; height: 56px; margin-bottom: 14px;
  }
  .area-card.compact .icon-wrap svg {
    width: 38px; height: 38px;
  }
</style>