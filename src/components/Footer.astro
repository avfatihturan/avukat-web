---
import { getEntry } from 'astro:content';

const siteEntry = await getEntry('site', 'main');

// --- HATA DÜZELTME KODU ---
if (!siteEntry) {
  throw new Error('Site verisi (site.json) bulunamadı!');
}
// --------------------------

const { contact, name } = siteEntry.data;
const year = new Date().getFullYear();
---

<footer>
  <div class="container">
    <div class="footer-row">
      
      <div class="footer-col">
        <h4>{name}</h4>
        <p>Hukuki Danışmanlık ve Çözüm Ortaklığı.</p>
        
        <div style="margin-top: 15px; font-size: 0.9rem; color: var(--color-text-secondary);">
          <p style="margin-bottom: 8px; display:flex; align-items:center; gap:10px;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="color: var(--brand-accent);">
              <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z" fill="currentColor"></path>
              <path d="M12 11.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" fill="#fff" opacity="0.9"></path>
            </svg>
            <span>{contact.address}</span>
          </p>
          <p style="margin-bottom: 8px; display:flex; align-items:center; gap:10px;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="color: var(--brand-accent);">
              <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1 .9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM20 8l-8 5-8-5V6l8 5 8-5v2z" fill="currentColor"></path>
            </svg>
            <a href={`mailto:${contact.email}`} style="text-decoration: none; color: inherit;">{contact.email}</a>
          </p>
          <p style="display:flex; align-items:center; gap:10px;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="color: var(--brand-accent);">
              <path d="M6.6 10.8c1.4 2.7 3.6 5 6.3 6.3l1.8-1.8c.2-.2.5-.3.8-.2 1 .3 2 .5 3 .5.4 0 .8.3.9.7.3 1.1.5 2.2.5 3.4 0 .5-.4.9-.9.9C13 21.5 2.5 11 2.5 4.9c0-.5.4-.9.9-.9 1.2 0 2.3.2 3.4.5.4.1.7.5.7.9 0 1 .2 2 .5 3 .1.3 0 .6-.2.8L6.6 10.8z" fill="currentColor"></path>
            </svg>
            <a href={contact.phoneLink} style="text-decoration: none; color: inherit;">{contact.phone}</a>
          </p>
        </div>
      </div>

      <div class="footer-col">
        <h4>Hızlı Erişim</h4>
        <ul>
          <li><a href="/hakkimda">Hakkımda</a></li>
          <li><a href="/calisma-alanlari">Çalışma Alanları</a></li>
          <li><a href="/yayinlar">Yayınlar</a></li>
          <li><a href="/iletisim">İletişim</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Yasal</h4>
        <ul>
          <li><a href="/kvkk-aydinlatma-metni">KVKK Aydınlatma Metni</a></li>
          <li><a href="/yasal-uyari">Yasal Uyarı</a></li>
          <li><a href="/gizlilik-bildirimi">Gizlilik Bildirimi</a></li>
          <li><a href="/cerez-politikasi">Çerez Politikası</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; {year} {name}. Her Hakkı Saklıdır.</p>
    </div>
  </div>
</footer>