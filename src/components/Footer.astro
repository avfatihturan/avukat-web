---
import { getEntry } from 'astro:content';

const siteEntry = await getEntry('site', 'main');

// --- HATA DÜZELTME KODU ---
if (!siteEntry) {
  throw new Error('Site verisi (site.json) bulunamadı!');
}
// --------------------------

const { contact, name } = siteEntry.data;
const year = new Date().getFullYear();
---

<footer>
  <div class="container">
    <div class="footer-row">
      
      <div class="footer-col">
        <h4>{name}</h4>
        <p>Hukuki Danışmanlık ve Çözüm Ortaklığı.</p>
        
        <div style="margin-top: 15px; font-size: 0.9rem; color: var(--color-text-secondary);">
          <p style="margin-bottom: 8px;">
            <i class="fa-solid fa-location-dot" style="margin-right: 8px; color: var(--brand-accent);"></i>
            {contact.address}
          </p>
          <p style="margin-bottom: 8px;">
            <i class="fa-solid fa-envelope" style="margin-right: 8px; color: var(--brand-accent);"></i>
            <a href={`mailto:${contact.email}`} style="text-decoration: none; color: inherit;">{contact.email}</a>
          </p>
          <p>
            <i class="fa-solid fa-phone" style="margin-right: 8px; color: var(--brand-accent);"></i>
            <a href={contact.phoneLink} style="text-decoration: none; color: inherit;">{contact.phone}</a>
          </p>
        </div>
      </div>

      <div class="footer-col">
        <h4>Hızlı Erişim</h4>
        <ul>
          <li><a href="/hakkimda">Hakkımda</a></li>
          <li><a href="/calisma-alanlari">Çalışma Alanları</a></li>
          <li><a href="/yayinlar">Yayınlar</a></li>
          <li><a href="/iletisim">İletişim</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Yasal</h4>
        <ul>
          <li><a href="/kvkk-aydinlatma-metni">KVKK Aydınlatma Metni</a></li>
          <li><a href="/yasal-uyari">Yasal Uyarı</a></li>
          <li><a href="/gizlilik-bildirimi">Gizlilik Bildirimi</a></li>
          <li><a href="/cerez-politikasi">Çerez Politikası</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; {year} {name}. Her Hakkı Saklıdır.</p>
    </div>
  </div>
</footer>